(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{296:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var t=s(5155),l=s(2115),n=s(3464);let r=(0,s(4298).io)("http://localhost:5000"),d=function(){let[e,a]=(0,l.useState)([]),[s,d]=(0,l.useState)([]),[i,o]=(0,l.useState)({category:"BK",prefix:"PM",number:""});(0,l.useEffect)(()=>(c(),r.on("update_tasks",e=>{a(e.preparing),d(e.finished)}),()=>{r.disconnect()}),[]);let c=async()=>{let e=await n.A.get("http://localhost:5000/tasks");a(e.data.preparing),d(e.data.finished)},x=e=>{o({...i,[e.target.name]:e.target.value})},h=async()=>{if(!i.category||!i.prefix||!i.number){alert("Please fill out all fields.");return}await n.A.post("http://localhost:5000/tasks",i),o({category:"BK",prefix:"PM",number:""})},m=async e=>{await n.A.post("http://localhost:5000/tasks/finish",{task_id:e})};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100 p-6",children:[(0,t.jsx)("h2",{className:"text-4xl font-bold mb-6 text-center text-red-600",children:"Queue System"}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto bg-white p-6 rounded-lg shadow-md mb-8",children:[(0,t.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-gray-700",children:"➕ Add Order"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("select",{name:"category",value:i.category,onChange:x,className:"border rounded-lg p-3 w-full",children:[(0,t.jsx)("option",{value:"BK",children:"BK"}),(0,t.jsx)("option",{value:"CS",children:"CS"})]}),(0,t.jsxs)("select",{name:"prefix",value:i.prefix,onChange:x,className:"border rounded-lg p-3 w-full",children:[(0,t.jsx)("option",{value:"PM",children:"PM"}),(0,t.jsx)("option",{value:"JN",children:"JN"}),(0,t.jsx)("option",{value:"SM",children:"SM"})]}),(0,t.jsx)("input",{type:"text",name:"number",value:i.number,onChange:x,placeholder:"4-digit number",className:"border rounded-lg p-3 w-full"}),(0,t.jsx)("button",{onClick:h,className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition",children:"Add Task"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-yellow-50 p-6 rounded-lg shadow-md",children:[(0,t.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-yellow-700",children:"\uD83D\uDD52 Preparing Queue"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4 overflow-y-auto max-h-[500px]",children:null==e?void 0:e.map((e,a)=>(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-4 shadow-md flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"block font-bold text-xl",children:"".concat(e.category).concat(e.prefix,"/").concat(e.number)}),(0,t.jsxs)("span",{className:"block text-sm text-gray-400",children:["Created at: ",new Date(e.created_at).toLocaleString()]})]}),(0,t.jsx)("button",{onClick:()=>m(e.task_id),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition",children:"✅ Finish"})]},a))})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-6 rounded-lg shadow-md",children:[(0,t.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-green-700",children:"✅ Finished Queue"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4 overflow-y-auto max-h-[500px]",children:null==s?void 0:s.map((e,a)=>(0,t.jsx)("div",{className:"bg-white border rounded-lg p-4 shadow-md",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"block font-bold text-xl",children:"".concat(e.category).concat(e.prefix,"/").concat(e.number)}),(0,t.jsxs)("span",{className:"block text-sm text-gray-400",children:["Created at: ",new Date(e.created_at).toLocaleString()]}),(0,t.jsxs)("span",{className:"block text-sm text-gray-400",children:["Finished at: ",e.finished_at?new Date(e.finished_at).toLocaleString():"Not finished"]})]})},a))})]})]})]})}},1179:(e,a,s)=>{Promise.resolve().then(s.bind(s,296))}},e=>{var a=a=>e(e.s=a);e.O(0,[299,441,684,358],()=>a(1179)),_N_E=e.O()}]);